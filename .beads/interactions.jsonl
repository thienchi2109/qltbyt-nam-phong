{"id":"qltbyt-nam-phong-0jf","title":"Final verification and cleanup for Phase 4","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T10:21:28.1492439+07:00","updated_at":"2025-12-26T14:10:23.8767373+07:00","closed_at":"2025-12-26T14:10:23.8767373+07:00","close_reason":"Completed in Phase 4 extraction - page.tsx reduced from 1,628 to 1,051 lines","dependencies":[{"issue_id":"qltbyt-nam-phong-0jf","depends_on_id":"qltbyt-nam-phong-boh","type":"blocks","created_at":"2025-12-26T10:21:46.6124+07:00","created_by":"daemon"},{"issue_id":"qltbyt-nam-phong-0jf","depends_on_id":"qltbyt-nam-phong-2nt","type":"blocks","created_at":"2025-12-26T10:21:47.4510074+07:00","created_by":"daemon"},{"issue_id":"qltbyt-nam-phong-0jf","depends_on_id":"qltbyt-nam-phong-es0","type":"blocks","created_at":"2025-12-26T10:21:48.2978161+07:00","created_by":"daemon"},{"issue_id":"qltbyt-nam-phong-0jf","depends_on_id":"qltbyt-nam-phong-vmj","type":"blocks","created_at":"2025-12-26T10:21:49.043371+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-0l7","title":"Extract useRepairRequestDialogs hook","description":"Extract all dialog/form state (~70 lines, lines 130-192) into _hooks/useRepairRequestDialogs.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T11:29:12.545395+07:00","updated_at":"2025-12-27T11:52:22.0475495+07:00","closed_at":"2025-12-27T11:52:22.0475495+07:00","close_reason":"Closed"}
{"id":"qltbyt-nam-phong-0r8","title":"Extract maintenance-dialogs.tsx (~150 lines)","description":"Extract all dialog orchestration from page.tsx into dedicated component.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-26T20:52:40.1662424+07:00","updated_at":"2025-12-26T21:46:15.0877054+07:00","closed_at":"2025-12-26T21:46:15.0877054+07:00","close_reason":"Extracted maintenance-dialogs.tsx (270 lines). page.tsx reduced from 1265 to 1130 lines (-135 lines). Total reduction from original: 1628 to 1130 (-498 lines, -31%).","labels":["maintenance","phase1","refactor"]}
{"id":"qltbyt-nam-phong-101","title":"Refactor equipment page: Update page.tsx to use extracted modules","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T14:37:10.6578229+07:00","updated_at":"2025-12-29T15:04:11.7955575+07:00","closed_at":"2025-12-29T15:04:11.7955575+07:00","close_reason":"All refactoring tasks complete: page.tsx reduced from 1197 to 356 lines, typecheck passes","dependencies":[{"issue_id":"qltbyt-nam-phong-101","depends_on_id":"qltbyt-nam-phong-o4z","type":"blocks","created_at":"2025-12-29T14:37:22.4534924+07:00","created_by":"daemon"},{"issue_id":"qltbyt-nam-phong-101","depends_on_id":"qltbyt-nam-phong-6bf","type":"blocks","created_at":"2025-12-29T14:37:22.8571276+07:00","created_by":"daemon"},{"issue_id":"qltbyt-nam-phong-101","depends_on_id":"qltbyt-nam-phong-48d","type":"blocks","created_at":"2025-12-29T14:37:23.3186365+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-1rx","title":"Create createPlanColumns factory function","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T10:21:08.1748252+07:00","updated_at":"2025-12-26T14:10:23.9070131+07:00","closed_at":"2025-12-26T14:10:23.9070131+07:00","close_reason":"Completed in Phase 4 extraction - page.tsx reduced from 1,628 to 1,051 lines"}
{"id":"qltbyt-nam-phong-22g","title":"Create FacilityFilter component","description":"Extract facility filter (desktop Select + mobile Sheet) into src/components/transfers/FacilityFilter.tsx (~80 lines). See docs/plans/2025-12-29-transfers-page-refactoring.md Task 3.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T16:20:30.814411+07:00","updated_at":"2025-12-30T09:24:26.7863838+07:00","closed_at":"2025-12-30T09:24:26.7863838+07:00","close_reason":"Closed","dependencies":[{"issue_id":"qltbyt-nam-phong-22g","depends_on_id":"qltbyt-nam-phong-a3h","type":"blocks","created_at":"2025-12-29T16:20:41.3332862+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-2nt","title":"Use createPlanColumns factory in page.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T10:21:09.9737771+07:00","updated_at":"2025-12-26T14:10:23.9038455+07:00","closed_at":"2025-12-26T14:10:23.9038455+07:00","close_reason":"Completed in Phase 4 extraction - page.tsx reduced from 1,628 to 1,051 lines","dependencies":[{"issue_id":"qltbyt-nam-phong-2nt","depends_on_id":"qltbyt-nam-phong-1rx","type":"blocks","created_at":"2025-12-26T10:21:41.2882096+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-2nw","title":"Refactor transfers page.tsx to use extracted modules","description":"Update page.tsx to import and use useTransferActions, TransferRowActions, and FacilityFilter. Remove ~800 lines of inline code. See docs/plans/2025-12-29-transfers-page-refactoring.md Task 4.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-29T16:20:32.2773581+07:00","updated_at":"2025-12-30T09:24:59.0462895+07:00","dependencies":[{"issue_id":"qltbyt-nam-phong-2nw","depends_on_id":"qltbyt-nam-phong-22g","type":"blocks","created_at":"2025-12-29T16:20:41.7787759+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-2ue","title":"Verify typecheck and test all dialog workflows","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T08:44:29.4117302+07:00","updated_at":"2025-12-25T11:07:47.9136692+07:00","closed_at":"2025-12-25T11:07:47.9136692+07:00","close_reason":"All components extracted and integrated. Parent reduced from ~2600 to 1734 lines. Typecheck passes. Gemini CLI reviewed and critical handleSubmit bug fixed.","dependencies":[{"issue_id":"qltbyt-nam-phong-2ue","depends_on_id":"qltbyt-nam-phong-rm4","type":"blocks","created_at":"2025-12-25T10:32:23.8988917+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-301","title":"Refactor equipment page: extract facility-filter-sheet.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T09:23:57.1837092+07:00","updated_at":"2025-12-29T10:49:33.7507947+07:00","closed_at":"2025-12-29T10:49:33.7507947+07:00","close_reason":"Closed","dependencies":[{"issue_id":"qltbyt-nam-phong-301","depends_on_id":"qltbyt-nam-phong-m5c","type":"blocks","created_at":"2025-12-29T09:24:25.962957+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-314","title":"Refactor equipment page: Verify typecheck and test functionality","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T14:37:12.3040653+07:00","updated_at":"2025-12-29T15:04:11.7987337+07:00","closed_at":"2025-12-29T15:04:11.7987337+07:00","close_reason":"All refactoring tasks complete: page.tsx reduced from 1197 to 356 lines, typecheck passes","dependencies":[{"issue_id":"qltbyt-nam-phong-314","depends_on_id":"qltbyt-nam-phong-101","type":"blocks","created_at":"2025-12-29T14:37:24.8351925+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-48d","title":"Refactor equipment page: Create equipment-dialogs.tsx component","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T14:37:09.1924404+07:00","updated_at":"2025-12-29T15:04:11.7918292+07:00","closed_at":"2025-12-29T15:04:11.7918292+07:00","close_reason":"All refactoring tasks complete: page.tsx reduced from 1197 to 356 lines, typecheck passes"}
{"id":"qltbyt-nam-phong-4me","title":"Refactor equipment page: extract equipment-table-columns.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T09:23:51.339221+07:00","updated_at":"2025-12-29T09:43:35.31409+07:00","closed_at":"2025-12-29T09:43:35.31409+07:00","close_reason":"Extracted equipment-table-columns.tsx with column factory, status variants, and constants","dependencies":[{"issue_id":"qltbyt-nam-phong-4me","depends_on_id":"qltbyt-nam-phong-8kw","type":"blocks","created_at":"2025-12-29T09:24:21.062546+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-4sh","title":"Extract repair-requests-columns.tsx","description":"Extract table column definitions (~160 lines, lines 741-961) into _components/repair-requests-columns.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T11:29:25.31664+07:00","updated_at":"2025-12-27T11:52:22.0491622+07:00","closed_at":"2025-12-27T11:52:22.0491622+07:00","close_reason":"Closed"}
{"id":"qltbyt-nam-phong-4yb","title":"Maintenance Page Phase 1 - Final Integration Testing","description":"Complete end-to-end testing of maintenance page after all extractions.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-26T20:52:51.4793229+07:00","updated_at":"2025-12-26T22:00:06.6741741+07:00","closed_at":"2025-12-26T22:00:06.6741741+07:00","close_reason":"Phase 1 mechanical extraction complete. page.tsx reduced from 1628 to 1130 lines (-31%, -498 lines).","labels":["maintenance","phase1","testing"]}
{"id":"qltbyt-nam-phong-56m","title":"Task 5: Replace Plans Tab JSX with components","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T16:42:15.3841387+07:00","updated_at":"2025-12-29T08:24:18.9383095+07:00","closed_at":"2025-12-29T08:24:18.9383095+07:00","close_reason":"Completed - Phase 3 desktop components extraction successful","dependencies":[{"issue_id":"qltbyt-nam-phong-56m","depends_on_id":"qltbyt-nam-phong-tp1","type":"blocks","created_at":"2025-12-25T16:42:37.5604899+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-5s7","title":"Create EditRequestDialog.tsx component","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T08:44:15.5196828+07:00","updated_at":"2025-12-25T11:07:47.8750656+07:00","closed_at":"2025-12-25T11:07:47.8750656+07:00","close_reason":"All components extracted and integrated. Parent reduced from ~2600 to 1734 lines. Typecheck passes. Gemini CLI reviewed and critical handleSubmit bug fixed."}
{"id":"qltbyt-nam-phong-6bf","title":"Refactor equipment page: Create equipment-content.tsx component","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T14:37:07.7290155+07:00","updated_at":"2025-12-29T15:04:11.7862477+07:00","closed_at":"2025-12-29T15:04:11.7862477+07:00","close_reason":"All refactoring tasks complete: page.tsx reduced from 1197 to 356 lines, typecheck passes"}
{"id":"qltbyt-nam-phong-6dp","title":"feat(repair-requests): Phase 2A - Extract useRepairRequestUIHandlers hook","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T15:39:56.6614234+07:00","updated_at":"2025-12-27T15:53:10.3339106+07:00","closed_at":"2025-12-27T15:53:10.3339106+07:00","close_reason":"Closed"}
{"id":"qltbyt-nam-phong-6hp","title":"Task 6: Replace Tasks Tab JSX with TasksTable","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T16:42:18.2532973+07:00","updated_at":"2025-12-29T08:24:18.9321888+07:00","closed_at":"2025-12-29T08:24:18.9321888+07:00","close_reason":"Completed - Phase 3 desktop components extraction successful","dependencies":[{"issue_id":"qltbyt-nam-phong-6hp","depends_on_id":"qltbyt-nam-phong-tp1","type":"blocks","created_at":"2025-12-25T16:42:40.5528593+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-8kw","title":"Refactor equipment page: extract equipment-print-utils.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T09:23:49.6654318+07:00","updated_at":"2025-12-29T09:37:30.2180764+07:00","closed_at":"2025-12-29T09:37:30.2180764+07:00","close_reason":"Extracted equipment-print-utils.ts with generateProfileSheet and generateDeviceLabel functions"}
{"id":"qltbyt-nam-phong-a3h","title":"Create TransferRowActions component","description":"Extract row action button rendering into src/components/transfers/TransferRowActions.tsx (~180 lines). See docs/plans/2025-12-29-transfers-page-refactoring.md Task 2.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T16:20:29.4059746+07:00","updated_at":"2025-12-30T09:23:20.9315339+07:00","closed_at":"2025-12-30T09:23:20.9315339+07:00","close_reason":"Closed","dependencies":[{"issue_id":"qltbyt-nam-phong-a3h","depends_on_id":"qltbyt-nam-phong-do5","type":"blocks","created_at":"2025-12-29T16:20:40.7970851+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-a6d","title":"Extract MobileRequestList.tsx","description":"Extract mobile card view rendering (~110 lines, lines 1437-1550) into _components/MobileRequestList.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T11:29:55.6507893+07:00","updated_at":"2025-12-27T11:52:22.0523864+07:00","closed_at":"2025-12-27T11:52:22.0523864+07:00","close_reason":"Closed"}
{"id":"qltbyt-nam-phong-aov","title":"Create ApproveRequestDialog.tsx component","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T08:44:20.3032207+07:00","updated_at":"2025-12-25T11:07:47.8878323+07:00","closed_at":"2025-12-25T11:07:47.8878323+07:00","close_reason":"All components extracted and integrated. Parent reduced from ~2600 to 1734 lines. Typecheck passes. Gemini CLI reviewed and critical handleSubmit bug fixed."}
{"id":"qltbyt-nam-phong-bb8","title":"Task 1: Create PlanFiltersBar component","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T16:42:06.27758+07:00","updated_at":"2025-12-26T08:08:27.4754038+07:00","closed_at":"2025-12-26T08:08:27.4754038+07:00","close_reason":"Created PlanFiltersBar component with facility filter, search, and regional leader banner"}
{"id":"qltbyt-nam-phong-bec","title":"Extract useRepairRequestShortcuts hook","description":"Extract keyboard shortcuts effect (~16 lines, lines 1024-1039) into _hooks/useRepairRequestShortcuts.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T11:28:20.8445124+07:00","updated_at":"2025-12-27T11:52:22.0408869+07:00","closed_at":"2025-12-27T11:52:22.0408869+07:00","close_reason":"Closed"}
{"id":"qltbyt-nam-phong-bn0","title":"Create CompleteRequestDialog.tsx component","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T08:44:22.7758221+07:00","updated_at":"2025-12-25T11:07:47.8927507+07:00","closed_at":"2025-12-25T11:07:47.8927507+07:00","close_reason":"All components extracted and integrated. Parent reduced from ~2600 to 1734 lines. Typecheck passes. Gemini CLI reviewed and critical handleSubmit bug fixed."}
{"id":"qltbyt-nam-phong-boh","title":"Integrate useMaintenanceDrafts hook in page.tsx","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-26T10:21:05.9400631+07:00","updated_at":"2025-12-26T14:10:23.7948506+07:00","closed_at":"2025-12-26T14:10:23.7948506+07:00","close_reason":"Completed in Phase 4 extraction - page.tsx reduced from 1,628 to 1,051 lines"}
{"id":"qltbyt-nam-phong-do5","title":"Create useTransferActions hook","description":"Extract action handlers, permission checks, and mapToTransferRequest into src/hooks/useTransferActions.ts (~200 lines). See docs/plans/2025-12-29-transfers-page-refactoring.md Task 1.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T16:20:28.0578392+07:00","updated_at":"2025-12-30T09:19:23.3425762+07:00","closed_at":"2025-12-30T09:19:23.3425762+07:00","close_reason":"Closed"}
{"id":"qltbyt-nam-phong-dug","title":"Task 2: Create PlansTable component","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T16:42:08.7530316+07:00","updated_at":"2025-12-26T08:09:53.0329702+07:00","closed_at":"2025-12-26T08:09:53.0329702+07:00","close_reason":"Created PlansTable component with server-side pagination"}
{"id":"qltbyt-nam-phong-dx1","title":"Task 7: Final verification and cleanup","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T16:42:20.942523+07:00","updated_at":"2025-12-29T08:24:18.8891616+07:00","closed_at":"2025-12-29T08:24:18.8891616+07:00","close_reason":"Completed - Phase 3 desktop components extraction successful","dependencies":[{"issue_id":"qltbyt-nam-phong-dx1","depends_on_id":"qltbyt-nam-phong-56m","type":"blocks","created_at":"2025-12-25T16:42:42.7854056+07:00","created_by":"daemon"},{"issue_id":"qltbyt-nam-phong-dx1","depends_on_id":"qltbyt-nam-phong-6hp","type":"blocks","created_at":"2025-12-25T16:42:43.1868824+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-e3z","title":"Create CreateRequestSheet.tsx component","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T08:44:24.9109093+07:00","updated_at":"2025-12-25T11:07:47.8973369+07:00","closed_at":"2025-12-25T11:07:47.8973369+07:00","close_reason":"All components extracted and integrated. Parent reduced from ~2600 to 1734 lines. Typecheck passes. Gemini CLI reviewed and critical handleSubmit bug fixed."}
{"id":"qltbyt-nam-phong-es0","title":"Use createTaskColumns factory in page.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T10:21:22.4599003+07:00","updated_at":"2025-12-26T14:10:23.8941905+07:00","closed_at":"2025-12-26T14:10:23.8941905+07:00","close_reason":"Completed in Phase 4 extraction - page.tsx reduced from 1,628 to 1,051 lines","dependencies":[{"issue_id":"qltbyt-nam-phong-es0","depends_on_id":"qltbyt-nam-phong-sl4","type":"blocks","created_at":"2025-12-26T10:21:43.266087+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-gkz","title":"feat(repair-requests): Phase 2B - Extract useRepairRequestMutations hook","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T15:40:00.9505578+07:00","updated_at":"2025-12-27T15:53:10.3444524+07:00","closed_at":"2025-12-27T15:53:10.3444524+07:00","close_reason":"Closed"}
{"id":"qltbyt-nam-phong-hd1","title":"feat(repair-requests): Phase 2C - Extract useRepairRequestWorkflows hook","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T15:40:04.9861032+07:00","updated_at":"2025-12-27T15:53:10.3477532+07:00","closed_at":"2025-12-27T15:53:10.3477532+07:00","close_reason":"Closed"}
{"id":"qltbyt-nam-phong-hfa","title":"Create RequestDetailContent.tsx component","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T08:44:13.0027287+07:00","updated_at":"2025-12-25T11:07:47.8195956+07:00","closed_at":"2025-12-25T11:07:47.8195956+07:00","close_reason":"All components extracted and integrated. Parent reduced from ~2600 to 1734 lines. Typecheck passes. Gemini CLI reviewed and critical handleSubmit bug fixed."}
{"id":"qltbyt-nam-phong-hrx","title":"LESSON: TanStack Table column extraction causes infinite loops with Radix UI","description":"## Context\nDuring Phase 4 maintenance page refactoring, we attempted to extract column definitions into factory functions. This caused an infinite loop error with Radix UI Select components.\n\n## Root Cause\nWhen TanStack Table column definitions are recreated (due to dependency changes in useMemo), all cell components are remounted. Radix UI's Select component uses `composeRefs` internally, and rapid mount/unmount cycles trigger recursive ref updates causing \"Maximum update depth exceeded\" errors.\n\n## Specific Issues Found\n\n### 1. Column factory function with changing dependencies\n```typescript\n// BAD: editingTaskId in dependencies causes columns to recreate on every edit\nconst taskColumns = React.useMemo(\n  () =\u003e createTaskColumns({ isPlanApproved, editingTaskId, canCompleteTask }),\n  [isPlanApproved, editingTaskId, canCompleteTask]\n)\n```\n\n### 2. Radix UI Select in table cells\nThe Select component's ref composition (`compose-refs.tsx`) loops when cells remount rapidly:\n```\nat setRef (compose-refs.tsx:11:12)\nat compose-refs.tsx:25:23\nat Array.map (\u003canonymous\u003e)\n...recursive...\n```\n\n### 3. Hook returning new object references\n```typescript\n// BAD: Returns new object every render\nreturn { tasks, setTasks, draftTasks, ... }\n\n// ATTEMPTED FIX (still failed):\nreturn React.useMemo(() =\u003e ({ ... }), [deps])\n```\n\n## What We Tried (All Failed)\n1. ✗ Memoizing the hook's return object with useMemo\n2. ✗ Removing editingTaskId from column dependencies, reading from meta instead\n3. ✗ Replacing Radix Select with native HTML select\n4. ✗ Adding stable keys to Select components\n\n## Safe Refactoring Rules for TanStack Table\n\n1. **NEVER put frequently-changing state in column useMemo dependencies**\n   - editingTaskId, editingTaskData change on every edit action\n   - Read these from table.options.meta instead\n\n2. **Avoid Radix UI Select in table cells when editing state changes columns**\n   - Native `\u003cselect\u003e` may be safer but still had issues\n   - Consider inline editing with Input only\n\n3. **Column definitions should be as stable as possible**\n   - Only isPlanApproved and canCompleteTask (rarely change) should be in deps\n   - All dynamic state should come from table meta\n\n4. **Test incrementally after each extraction**\n   - Don't batch multiple extractions before testing\n   - The infinite loop only appeared after several changes were combined\n\n## Resolution\nReverted to commit `519d986` (before Phase 4 changes). Phase 3 extractions (PlanFiltersBar, PlansTable, TasksTable, MobileMaintenanceLayout) work correctly.\n\n## Future Approach\nIf revisiting this refactoring:\n1. Keep column definitions inline in page.tsx\n2. Only extract pure presentational components (no table cell logic)\n3. Extract dialogs separately from column logic\n4. Test after EACH small change","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-26T14:56:47.9540101+07:00","updated_at":"2025-12-26T14:57:37.3028063+07:00","closed_at":"2025-12-26T14:57:37.3028063+07:00","close_reason":"Documented as episodic memory for future reference"}
{"id":"qltbyt-nam-phong-i7c","title":"Refactor equipment page: extract equipment-toolbar.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T09:23:58.8032822+07:00","updated_at":"2025-12-29T10:53:39.2814688+07:00","closed_at":"2025-12-29T10:53:39.2814688+07:00","close_reason":"Closed","dependencies":[{"issue_id":"qltbyt-nam-phong-i7c","depends_on_id":"qltbyt-nam-phong-301","type":"blocks","created_at":"2025-12-29T09:24:27.949297+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-ix3","title":"Refactor equipment page: extract equipment-actions-menu.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T09:23:53.0348917+07:00","updated_at":"2025-12-29T09:46:48.5712528+07:00","closed_at":"2025-12-29T09:46:48.5712528+07:00","close_reason":"Extracted equipment-actions-menu.tsx component with RBAC and usage handling","dependencies":[{"issue_id":"qltbyt-nam-phong-ix3","depends_on_id":"qltbyt-nam-phong-4me","type":"blocks","created_at":"2025-12-29T09:24:22.7027231+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-lp5","title":"Refactor equipment page: extract equipment-detail-dialog.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T09:24:01.6753521+07:00","updated_at":"2025-12-29T11:22:16.5009204+07:00","closed_at":"2025-12-29T11:22:16.5009204+07:00","close_reason":"Extracted equipment-detail-dialog.tsx (1125 lines) containing detail modal with 4 tabs, form validation, attachments, and history. page.tsx reduced from 2051 to 1245 lines.","dependencies":[{"issue_id":"qltbyt-nam-phong-lp5","depends_on_id":"qltbyt-nam-phong-i7c","type":"blocks","created_at":"2025-12-29T09:24:29.3857857+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-m4i","title":"Phase 4: Simplify page.tsx to controller only","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T13:35:01.8170058+07:00","updated_at":"2025-12-29T08:24:19.365784+07:00","closed_at":"2025-12-29T08:24:19.365784+07:00","close_reason":"Reverted - Phase 4 caused infinite loop with TanStack Table + Radix UI. Lesson documented in qltbyt-nam-phong-hrx","dependencies":[{"issue_id":"qltbyt-nam-phong-m4i","depends_on_id":"qltbyt-nam-phong-qlh","type":"blocks","created_at":"2025-12-25T13:36:30.0172866+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-m5c","title":"Refactor equipment page: extract equipment-pagination.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T09:23:54.8720265+07:00","updated_at":"2025-12-29T10:46:45.5456766+07:00","closed_at":"2025-12-29T10:46:45.5456766+07:00","close_reason":"Closed","dependencies":[{"issue_id":"qltbyt-nam-phong-m5c","depends_on_id":"qltbyt-nam-phong-ix3","type":"blocks","created_at":"2025-12-29T09:24:24.3169125+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-m8q","title":"refactor(repair-requests): Phase 1 mechanical extraction","description":"Reduce RepairRequestsPageClient.tsx from 1,725 to ~1,289 lines (-25%) by extracting 5 components/hooks following maintenance page pattern. Zero logic changes - pure refactoring for maintainability.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-27T11:26:41.1251627+07:00","updated_at":"2025-12-27T11:52:31.0384018+07:00","closed_at":"2025-12-27T11:52:31.0384018+07:00","close_reason":"Closed"}
{"id":"qltbyt-nam-phong-o4z","title":"Refactor equipment page: Create use-equipment-page.ts hook","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T14:37:05.5522006+07:00","updated_at":"2025-12-29T15:04:11.7551656+07:00","closed_at":"2025-12-29T15:04:11.7551656+07:00","close_reason":"All refactoring tasks complete: page.tsx reduced from 1197 to 356 lines, typecheck passes"}
{"id":"qltbyt-nam-phong-qk3","title":"Refactor equipment page: cleanup and final verification","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T09:24:03.5624938+07:00","updated_at":"2025-12-29T11:29:57.5183641+07:00","closed_at":"2025-12-29T11:29:57.5183641+07:00","close_reason":"Cleanup complete: removed 8 unused imports, verified TypeScript, page.tsx now 1196 lines (60% reduction from 3001)","dependencies":[{"issue_id":"qltbyt-nam-phong-qk3","depends_on_id":"qltbyt-nam-phong-lp5","type":"blocks","created_at":"2025-12-29T09:24:30.8065693+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-qlh","title":"Phase 3: Extract Desktop UI components (filter bar, tables, view)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T13:35:00.667776+07:00","updated_at":"2025-12-26T09:11:07.8886357+07:00","closed_at":"2025-12-26T09:11:07.8886357+07:00","close_reason":"Phase 3 complete: Extracted 3 desktop components (PlanFiltersBar 131 lines, PlansTable 193 lines, TasksTable 211 lines). page.tsx reduced from 1949 to 1628 lines (-321 lines).","dependencies":[{"issue_id":"qltbyt-nam-phong-qlh","depends_on_id":"qltbyt-nam-phong-tq5","type":"blocks","created_at":"2025-12-25T13:36:29.6023426+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-qwx","title":"Extract task-editing.tsx (~80 lines)","description":"Extract task inline editing logic from page.tsx into custom hook.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-26T20:52:05.7210647+07:00","updated_at":"2025-12-26T21:38:34.1464586+07:00","closed_at":"2025-12-26T21:38:34.1464586+07:00","close_reason":"Extracted task-editing.tsx (81 lines). page.tsx reduced from 1302 to 1265 lines (-37 lines).","labels":["maintenance","phase1","refactor"]}
{"id":"qltbyt-nam-phong-rm4","title":"Update RepairRequestsPageClient.tsx to use extracted components","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T08:44:27.2096616+07:00","updated_at":"2025-12-25T11:07:47.9073373+07:00","closed_at":"2025-12-25T11:07:47.9073373+07:00","close_reason":"All components extracted and integrated. Parent reduced from ~2600 to 1734 lines. Typecheck passes. Gemini CLI reviewed and critical handleSubmit bug fixed.","dependencies":[{"issue_id":"qltbyt-nam-phong-rm4","depends_on_id":"qltbyt-nam-phong-hfa","type":"blocks","created_at":"2025-12-25T10:32:06.9758165+07:00","created_by":"daemon"},{"issue_id":"qltbyt-nam-phong-rm4","depends_on_id":"qltbyt-nam-phong-5s7","type":"blocks","created_at":"2025-12-25T10:32:08.2780601+07:00","created_by":"daemon"},{"issue_id":"qltbyt-nam-phong-rm4","depends_on_id":"qltbyt-nam-phong-rnx","type":"blocks","created_at":"2025-12-25T10:32:10.4121292+07:00","created_by":"daemon"},{"issue_id":"qltbyt-nam-phong-rm4","depends_on_id":"qltbyt-nam-phong-aov","type":"blocks","created_at":"2025-12-25T10:32:10.9244756+07:00","created_by":"daemon"},{"issue_id":"qltbyt-nam-phong-rm4","depends_on_id":"qltbyt-nam-phong-bn0","type":"blocks","created_at":"2025-12-25T10:32:11.6178971+07:00","created_by":"daemon"},{"issue_id":"qltbyt-nam-phong-rm4","depends_on_id":"qltbyt-nam-phong-e3z","type":"blocks","created_at":"2025-12-25T10:32:12.5579555+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-rnx","title":"Create DeleteRequestDialog.tsx component","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T08:44:18.4706761+07:00","updated_at":"2025-12-25T11:07:47.881818+07:00","closed_at":"2025-12-25T11:07:47.881818+07:00","close_reason":"All components extracted and integrated. Parent reduced from ~2600 to 1734 lines. Typecheck passes. Gemini CLI reviewed and critical handleSubmit bug fixed."}
{"id":"qltbyt-nam-phong-s2p","title":"Create MaintenanceDialogs component","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T10:21:24.6205499+07:00","updated_at":"2025-12-26T14:10:23.8853998+07:00","closed_at":"2025-12-26T14:10:23.8853998+07:00","close_reason":"Completed in Phase 4 extraction - page.tsx reduced from 1,628 to 1,051 lines"}
{"id":"qltbyt-nam-phong-sl4","title":"Create createTaskColumns factory function","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T10:21:11.6269029+07:00","updated_at":"2025-12-26T14:10:23.8991759+07:00","closed_at":"2025-12-26T14:10:23.8991759+07:00","close_reason":"Completed in Phase 4 extraction - page.tsx reduced from 1,628 to 1,051 lines"}
{"id":"qltbyt-nam-phong-tp1","title":"Task 4: Update page.tsx imports for desktop components","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T16:42:12.8981468+07:00","updated_at":"2025-12-29T08:24:18.9450364+07:00","closed_at":"2025-12-29T08:24:18.9450364+07:00","close_reason":"Completed - Phase 3 desktop components extraction successful","dependencies":[{"issue_id":"qltbyt-nam-phong-tp1","depends_on_id":"qltbyt-nam-phong-bb8","type":"blocks","created_at":"2025-12-25T16:42:33.0365204+07:00","created_by":"daemon"},{"issue_id":"qltbyt-nam-phong-tp1","depends_on_id":"qltbyt-nam-phong-dug","type":"blocks","created_at":"2025-12-25T16:42:33.4638656+07:00","created_by":"daemon"},{"issue_id":"qltbyt-nam-phong-tp1","depends_on_id":"qltbyt-nam-phong-uy3","type":"blocks","created_at":"2025-12-25T16:42:34.5180801+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-tq5","title":"Phase 2: Extract MobileMaintenanceView component","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T13:34:58.4934968+07:00","updated_at":"2025-12-25T16:20:48.1248885+07:00","closed_at":"2025-12-25T16:20:48.1248885+07:00","close_reason":"Extracted MobileMaintenanceLayout (~860 lines) into _components/. page.tsx reduced from ~2804 to ~1946 lines.","dependencies":[{"issue_id":"qltbyt-nam-phong-tq5","depends_on_id":"qltbyt-nam-phong-uwg","type":"blocks","created_at":"2025-12-25T13:36:29.0310001+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-uwg","title":"Phase 1: Extract maintenance hooks (drafts, operations, print)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T13:34:57.2365617+07:00","updated_at":"2025-12-25T15:55:51.1781467+07:00","closed_at":"2025-12-25T15:55:51.1781467+07:00","close_reason":"Extracted 3 hooks: use-maintenance-operations (169 lines), use-maintenance-print (536 lines), use-maintenance-drafts (175 lines). Reduced page.tsx from ~3400 to 2803 lines (~600 lines extracted)."}
{"id":"qltbyt-nam-phong-uy3","title":"Task 3: Create TasksTable component","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T16:42:10.6532763+07:00","updated_at":"2025-12-26T08:14:04.1284852+07:00","closed_at":"2025-12-26T08:14:04.1284852+07:00","close_reason":"Created TasksTable component with bulk actions and client-side pagination"}
{"id":"qltbyt-nam-phong-vea","title":"Extract maintenance-columns.tsx (~220 lines)","description":"Extract table column definitions from page.tsx into dedicated hooks file.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-26T20:51:50.7051425+07:00","updated_at":"2025-12-26T21:19:58.7321077+07:00","closed_at":"2025-12-26T21:19:58.7321077+07:00","close_reason":"Extracted maintenance-columns.tsx (~220 lines). page.tsx reduced from 1628 to 1302 lines (-326 lines, -20%).","labels":["maintenance","phase1","refactor"]}
{"id":"qltbyt-nam-phong-vmj","title":"Use MaintenanceDialogs in page.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T10:21:26.423349+07:00","updated_at":"2025-12-26T14:10:23.8816927+07:00","closed_at":"2025-12-26T14:10:23.8816927+07:00","close_reason":"Completed in Phase 4 extraction - page.tsx reduced from 1,628 to 1,051 lines","dependencies":[{"issue_id":"qltbyt-nam-phong-vmj","depends_on_id":"qltbyt-nam-phong-s2p","type":"blocks","created_at":"2025-12-26T10:21:44.9162878+07:00","created_by":"daemon"}]}
{"id":"qltbyt-nam-phong-wah","title":"Extract RepairRequestsPagination.tsx","description":"Extract pagination controls (~80 lines, lines 1635-1712) into _components/RepairRequestsPagination.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T11:29:38.6615546+07:00","updated_at":"2025-12-27T11:52:22.0507536+07:00","closed_at":"2025-12-27T11:52:22.0507536+07:00","close_reason":"Closed"}
{"id":"qltbyt-nam-phong-wd3","title":"Verify transfers page refactoring","description":"Run typecheck, verify line counts, manual smoke test. See docs/plans/2025-12-29-transfers-page-refactoring.md Task 5.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-29T16:20:33.5670485+07:00","updated_at":"2025-12-29T16:20:33.5670485+07:00","dependencies":[{"issue_id":"qltbyt-nam-phong-wd3","depends_on_id":"qltbyt-nam-phong-2nw","type":"blocks","created_at":"2025-12-29T16:20:42.3954124+07:00","created_by":"daemon"}]}
